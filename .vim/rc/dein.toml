# dein.vim config file

[[plugins]]
repo = 'vim-airline/vim-airline'
depends = ['vim-airline-themes']
hook_add = """
" let g:airline_theme = 'gruvbox'
" let g:airline_theme = 'dracula'
let g:airline_theme = 'sol'
" nmap <C-p> <Plug>AirlineSelectPrevTab
" nmap <C-n> <Plug>AirlineSelectNextTab
" let g:airline_powerline_fonts = 1
let g:airline#extensions#tabline#enabled = 1
" let g:airline#extensions#tabline#buffer_idx_mode = 1
" let g:airline#extensions#whitespace#mixed_indent_algo = 1
let g:airline#extensions#tabline#buffer_nr_show = 1
"""

[[plugins]]
repo = 'vim-airline/vim-airline-themes'

[[plugins]]
repo = 'mogassy/smooth-scroll.vim'
hook_add = """
let g:smooth_scroll_no_default_key_mappings = 1
let g:smooth_scroll_interval = 1000.0 / 60
let g:smooth_scroll_scrollkind = "quintic"
nnoremap <silent> <C-d> :<C-u>call smooth_scroll#flick(v:count1 * winheight(0) / 2, winheight(0) / 3,  1)<CR>
nnoremap <silent> <C-u> :<C-u>call smooth_scroll#flick(v:count1 * winheight(0) / 2, winheight(0) / 3, -1)<CR>
nnoremap <silent> <C-f> :<C-u>call smooth_scroll#flick(v:count1 * winheight(0)    , winheight(0) / 2,  1)<CR>
nnoremap <silent> <C-b> :<C-u>call smooth_scroll#flick(v:count1 * winheight(0)    , winheight(0) / 2, -1)<CR>
"""

[[plugins]]
repo = 'morhetz/gruvbox'

[[plugins]]
repo = 'kana/vim-submode'

[[plugins]]
repo = 'Shougo/defx.nvim'
depends = ['kristijanhusak/defx-git']
hook_add = """
source ~/.config/nvim/plugins/defx.vim
"""

[[plugins]]
repo = 'kristijanhusak/defx-git'

[[plugins]]
repo = 'kristijanhusak/defx-icons'

[[plugins]]
repo = 'tyru/caw.vim'
hook_add = """
let g:caw_operator_keymappings = 1
map <Space>c gcc
nmap <Space>cc gcc$
"""

[[plugins]]
repo = 'glts/vim-textobj-comment'
depends = ['kana/vim-textobj-user']

[[plugins]]
repo = 'machakann/vim-sandwich'
hook_add = """
source ~/.config/nvim/plugins/sandwich.vim
"""

[[plugins]]
repo = 'kana/vim-operator-user'

[[plugins]]
repo = 'kana/vim-textobj-user'
hook_add = """
call textobj#user#plugin('line', {
\   '-': {
\     'select-a-function': 'CurrentLineA',
\     'select-a': 'al',
\     'select-i-function': 'CurrentLineI',
\     'select-i': 'il',
\   },
\ })

function! CurrentLineA()
  normal! 0
  let head_pos = getpos('.')
  normal! $
  let tail_pos = getpos('.')
  return ['v', head_pos, tail_pos]
endfunction

function! CurrentLineI()
  normal! ^
  let head_pos = getpos('.')
  normal! g_
  let tail_pos = getpos('.')
  let non_blank_char_exists_p = getline('.')[head_pos[2] - 1] !~# '\s'
  return
  \ non_blank_char_exists_p
  \ ? ['v', head_pos, tail_pos]
  \ : 0
endfunction

call textobj#user#plugin('jbraces', {
    \   'parens': {
    \       'pattern': ['（', '）'],
    \       'select-a': 'aP', 'select-i': 'iP'
    \  },
    \   'braces': {
    \       'pattern': ['「', '」'],
    \       'select-a': 'aB', 'select-i': 'iB'
    \  },
    \  'double-braces': {
    \       'pattern': ['『', '』'],
    \       'select-a': 'aD', 'select-i': 'iD'
    \  },
    \})
"""

# [[plugins]]
# repo = 'jsfaint/gen_tags.vim'
# hook_add = """
# let g:gen_tags#ctags_auto_gen = 1
# let g:gen_tags#gtags_auto_gen = 1
# """

[[plugins]]
repo = 'kshenoy/vim-signature'
hook_add = """
let g:SignatureIncludeMarks = 'abcdefghijklmnopqrstuvwxyABCDEFGHIJKLMNOPQRSTUVWXYZ'
"""

# [[plugins]]
# repo = 'terryma/vim-multiple-cursors'

[[plugins]]
repo = 'Konfekt/FastFold'


[[plugins]]
repo = 'Shougo/denite.nvim'
hook_add = """
source ~/.config/nvim/plugins/denite.vim
"""


[[plugins]]
repo = 'xolox/vim-session'
depends = ['xolox/vim-misc']
hook_add = """
let s:local_session_directory = xolox#misc#path#merge(getcwd(), '.vimsessions')
" 存在すれば
if isdirectory(s:local_session_directory)
  " session保存ディレクトリをそのディレクトリの設定
  let g:session_directory = s:local_session_directory
  " vimを辞める時に自動保存
  let g:session_autosave = 'yes'
  " 引数なしでvimを起動した時にsession保存ディレクトリのdefault.vimを開く
  let g:session_autoload = 'yes'
  " 1分間に1回自動保存
  " let g:session_autosave_periodic = 1
else
  let g:session_autosave = 'no'
  let g:session_autoload = 'no'
endif
unlet s:local_session_directory
"""


[[plugins]]
repo = 'xolox/vim-misc'


[[plugins]]
repo = 'qnighy/satysfi.vim'


[[plugins]]
repo = 'neoclide/coc.nvim'
merge = 0
# build = './install.sh nightly'
build = 'yarn install --frozen-lockfile'
hook_add = """
source ~/.config/nvim/plugins/coc-settings.vim
let g:LanguageClient_serverCommands = {
\   'julia': ['/Applications/Julia-1.1.app/Contents/Resources/julia/bin/julia']}
"""

# [[plugins]]
# repo = 'leafgarland/typescript-vim'

[[plugins]]
# repo = 'dag/vim-fish'  # 重すぎる
repo = 'vim-scripts/fish-syntax'

# [[plugins]]
# repo = 's417-lama/carbonpaper.vim'

[[plugins]]
repo = 'tpope/vim-fugitive'
hook_add = "source ~/.config/nvim/plugins/fugitive.vim"


# hook_post_update = 'call hook#post_update#language_client_neovim#load()'
# hook_add = 'call hook#add#language_client_neovim#load()'
